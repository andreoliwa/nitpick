[nitpick.meta]
name = "GitHub Workflow for Python"
url = "https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions"

[".github/workflows/python.yaml"]
name = "Python"
on = ["push", "pull_request"]

[".github/workflows/python.yaml".jobs.build.strategy]
fail-fast = false

# Create 5 separate jobs using matrix include
[[".github/workflows/python.yaml".jobs.build.strategy.matrix.include]]
name = "lint"
os = "ubuntu-latest"
toxenv = "lint"
python-version = "3.14"

[[".github/workflows/python.yaml".jobs.build.strategy.matrix.include]]
name = "docs"
os = "ubuntu-latest"
toxenv = "docs"
python-version = "3.14"

[[".github/workflows/python.yaml".jobs.build.strategy.matrix.include]]
name = "test-ubuntu"
os = "ubuntu-latest"

[[".github/workflows/python.yaml".jobs.build.strategy.matrix.include]]
name = "test-windows"
os = "windows-latest"

[[".github/workflows/python.yaml".jobs.build.strategy.matrix.include]]
name = "test-macos"
os = "macos-latest"

[".github/workflows/python.yaml".jobs.build]
name = "${{ matrix.name }}"
runs-on = "${{ matrix.os }}"

[".github/workflows/python.yaml".jobs.build.env]
PYTHONUNBUFFERED = 1

[[".github/workflows/python.yaml".jobs.build.steps]]
name = "Checkout"
uses = "actions/checkout@v5"

# For lint/docs jobs: install only Python 3.14
[[".github/workflows/python.yaml".jobs.build.steps]]
name = "Set up Python ${{ matrix.python-version }}"
uses = "actions/setup-python@v6"

# For test jobs: install all Python versions
[[".github/workflows/python.yaml".jobs.build.steps]]
name = "Set up Python 3.10"
uses = "actions/setup-python@v6"

[[".github/workflows/python.yaml".jobs.build.steps]]
name = "Set up Python 3.11"
uses = "actions/setup-python@v6"

[[".github/workflows/python.yaml".jobs.build.steps]]
name = "Set up Python 3.12"
uses = "actions/setup-python@v6"

[[".github/workflows/python.yaml".jobs.build.steps]]
name = "Set up Python 3.13"
uses = "actions/setup-python@v6"

[[".github/workflows/python.yaml".jobs.build.steps]]
name = "Set up Python 3.14"
uses = "actions/setup-python@v6"

[[".github/workflows/python.yaml".jobs.build.steps]]
name = "Install pip and tox"
run = "python -m pip install --upgrade pip tox"
